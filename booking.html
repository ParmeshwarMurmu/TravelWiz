<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Booking Page</title>
    <link rel="stylesheet" href="./booking.css" />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.1/css/all.min.css"
    />
    <!--Google font-->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700&display=swap"
      rel="stylesheet"
    />
    <!-- foter -->
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.1/css/all.min.css"
      integrity="sha512-MV7K8+y+gLIBoVD59lQIYicR65iaqukzvf/nwasF0nqhPay5w/9lJmVM2hMDcnK1OnMGCdVK+iQrJ7lzPJQd1w=="
      crossorigin="anonymous"
      referrerpolicy="no-referrer"
    />
    <link
      rel="stylesheet"
      href="https://use.fontawesome.com/releases/v5.8.1/css/all.css"
      integrity="sha384-50oBUHEmvpQ+1lW4y57PTFmhCaXp0ML5d60M1M7uH2+nqUivzIebhndOJK28anvf"
      crossorigin="anonymous"
    />
    <link
  </head>
  <body>
    <div class="wrapper">
      <!-- Header -->
      <div class="navbar">
        <div class="logo">
          <a href="./index.html"
            ><img src="./Css Travel/1-removebg-preview.png" alt=""
          /></a>
        </div>
        <label for="ham-menu" class="ham-menu-bar">
          <i class="fa fa-bars"></i>
        </label>
        <input type="checkbox" id="ham-menu" autocomplete="off" />
        <ul>
          <li><a href="./Travel.html">Destination</a></li>
          <li><a href="./booking.html">Booking</a></li>
          <li><a href="./About/about.html">About Us</a></li>
          <li>
            <a href="./login.html"><p id="username">Log In</p></a>
          </li>
          <li><a href="./Admin/adminLogin.html">Admin</a></li>
        </ul>
      </div>
    </div>
    <div class="bookingHead">
      <h1>Explore Recomended Top Destinations</h1>
    </div>
    <hr />
    <div class="parentBooking">
      <div class="sidedesc"></div>
      <div class="mainsectionb"></div>
    </div>
    <!-- Footer -->
    <div class="Footer">
      <!--Top Footer-->
      <div class="footer_top">
        <div class="call">
          <img src="1-removebg-preview.png" alt="" />

          <h1>TravelWiz</h1>
        </div>
        <div class="email">
          <i class="fa-solid fa-envelope"></i>
          travelWiz@gmail.com
        </div>
      </div>

      <hr />

      <!--middle footer-->
      <div class="Middle_Footer">
        <div class="Subscribe">
          <h3>Subscribe To Know Us Better</h3>

          <div class="seachbox">
            <input type="email" placeholder="your@gmail.com" />
            <i class="fa-solid fa-arrow-right-long"></i>
          </div>

          <p>Get Digital Knowledge Of Places And Updates in your Mailbox</p>
        </div>
        <div class="About">
          <h3>About</h3>
          <li>Our Story</li>
          <li>Careers</li>

          <li>Sitemap</li>
        </div>

        <div class="Resources">
          <h3>Resources</h3>
          <li>Blog</li>
          <li>Contact Us</li>
          <li>travelWiz@gmail.com</li>
        </div>
      </div>

      <!--Bottom Footer-->
      <div class="footer_bottom">
        <img src="1-removebg-preview.png" alt="" />
        <p>All Rights Reserved For TravelWiz</p>
        <div class="SocialMedia">
          <i class="fa-brands fa-facebook-f"></i>
          <i class="fa-brands fa-linkedin-in"></i>
          <i class="fa-brands fa-twitter"></i>
          <i class="fa-brands fa-instagram"></i>
        </div>
      </div>
    </div>
  </body>
  <script>
    let sidedesc = document.querySelector(".sidedesc");
    let mainsectionb = document.querySelector(".mainsectionb");

    let bookurl = "http://localhost:3000/travel";
    let id = localStorage.getItem("travel-id");
    let userBookedId = localStorage.getItem("userBookedId");
    console.log(id);
    function fetchData() {
      fetch(`${bookurl}/${id}`)
        .then((res) => {
          return res.json();
        })
        .then((data) => {
          console.log(data);
          sideCard(data);
          createCard(data);
        })
        .catch((err) => {
          console.log(err);
        });
    }
    fetchData();
    function sideCard(ele) {
      let sideCard = document.createElement("div");
      sideCard.className = "side-card";

      let sideh2 = document.createElement("h2");
      sideh2.className = "headts";
      sideh2.textContent = "TravelWiz Destiny Tour";

      let sCountry = document.createElement("h4");
      sCountry.className = "side-country";
      sCountry.textContent = `COUNTRY : ${ele.country}`;

      let sState = document.createElement("h5");
      sState.className = "side-country";
      sState.textContent = `STATE: ${ele.state}`;

      let sDesc1 = document.createElement("p");
      sDesc1.className = "side-desc1";
      sDesc1.textContent = `ABOUT THE PLACE: ${ele.description1}`;

      let hr = document.createElement("hr");

      let sDesc2 = document.createElement("p");
      sDesc2.className = "side-desc2";
      sDesc2.textContent = `KNOW SOME GLIMPS: ${ele.description2}`;

      let hr1 = document.createElement("hr");

      let pckprice = document.createElement("h3");
      pckprice.className = "sPrice";
      pckprice.textContent = `Package Start At: â‚¹${ele.price}`;

      let pdet = document.createElement("p");
      pdet.className = "det-p";
      pdet.textContent =
        "Includes Personal Guide Tour X TravelWiz Partner tour Package X  Suits X Airgo";

      sideCard.append(
        sideh2,
        sCountry,
        sState,
        sDesc1,
        hr,
        sDesc2,
        hr1,
        pckprice,
        pdet
      );
      sidedesc.append(sideCard);
    }
    function createCard(item) {
      let card = document.createElement("div");
      card.className = "card";
      let h3 = document.createElement("h3");
      h3.className = "head-main";
      h3.textContent = item.city;

      let para = document.createElement("p");
      para.className = "para-p";
      para.textContent = item.placeDescription;

      let btn1 = document.createElement("button");
      btn1.className = "button-book";
      btn1.textContent = "Book Now";

      btn1.addEventListener("click", () => {
        localStorage.setItem("userBookedId", item.id);
        // userBookedId.push(item.id);
        window.location.href = "payment.html";
      });

      let btn2 = document.createElement("button");
      btn2.className = "button-details";
      btn2.textContent = "View Details";

      let btndiv = document.createElement("div");
      btndiv.className = "btnall";
      btndiv.append(btn1, btn2);

      let imgDiv = document.createElement("div");
      imgDiv.className = "card-image2";
      let img = document.createElement("img");
      img.src = item.image;
      img.setAttribute("alt", "image");
      imgDiv.append(img);

      let divImgP = document.createElement("div");
      divImgP.className = "img-parent";

      let divImgs1 = document.createElement("div");
      divImgs1.className = "img-s1";
      let imgs1 = document.createElement("img");
      imgs1.src = item.image2;
      imgs1.setAttribute("alt", "image");
      divImgs1.append(imgs1);

      imgs1.addEventListener("click", () => {
        img.src = item.image2;
      });

      let divImgs2 = document.createElement("div");
      divImgs2.className = "img-s2";
      let imgs2 = document.createElement("img");
      imgs2.src = item.image3;
      imgs2.setAttribute("alt", "image");
      divImgs2.append(imgs2);

      imgs2.addEventListener("click", () => {
        img.src = item.image3;
      });

      let divImgs3 = document.createElement("div");
      divImgs3.className = "img-s3";
      let imgs3 = document.createElement("img");
      imgs3.src = item.image4;
      imgs3.setAttribute("alt", "image");
      divImgs3.append(imgs3);

      imgs3.addEventListener("click", () => {
        img.src = item.image4;
      });

      let divImgs4 = document.createElement("div");
      divImgs4.className = "img-s4";
      let imgs4 = document.createElement("img");
      imgs4.src = item.image5;
      imgs4.setAttribute("alt", "image");
      divImgs4.append(imgs4);

      imgs4.addEventListener("click", () => {
        img.src = item.image5;
      });

      divImgP.append(divImgs1, divImgs2, divImgs3, divImgs4);

      card.append(h3, para, imgDiv, btndiv, divImgP);
      mainsectionb.append(card);
    }
  </script>
</html>
